{% extends "cfc_report/base/base.html" %}

{% block page_title %}Show Round: {{ round_number }}{% endblock %}

{% block nav_bar %}
  <a href="{% url 'create-report-round' %}" class="padded">
    <input id="back-btn" type="button" value="Return to builder" />
  </a>
{% endblock %}

{% block content %}
<span>
  <h1>Tournament Round {{ round_number }}</h1>
</span>

<section id="round-{{ round_number }}">
  <h4>Matches:</h4>
    <table>
      <tr>
        <th>White</th>
        <th>Black</th>
        <th>Result</th>
      </tr>
      {% for match in round.matches %}

      <div id="{{match.pk}}">
      <tr>
        <td>{{ match.white }}</td>
        <td>{{ match.black }}</td>
        <td>{{ match.winner }}</td>
      </tr>
        <a
         data-hx-target="#{{match.pk}}"
         data-hx-swap="outerHTML"
         data-hx-post="{{ match.get_absolute_url }}"
        >Select</a>
       </div>
      {% endfor %}
    </table>
  {% include "cfc_report/show/partials/match-list.html" %}
  <hr>
  <h4>Players:</h4>
  {% include "cfc_report/show/partials/player-list.html" %}
  <hr>
</section>

<input id="confirm-round-creation" type="button" value="finalize creation">
{% endblock %}
